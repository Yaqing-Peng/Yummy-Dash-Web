{"version":3,"sources":["webpack:///./src/views/employee/index.vue?35b0","webpack:///./src/views/employee/index.vue","webpack:///./src/views/employee/index.vue?b354","webpack:///./src/views/employee/index.vue?d40c","webpack:///./src/views/employee/index.vue?d531"],"names":["render","_vm","this","_c","_self","staticClass","staticStyle","_v","attrs","model","value","name","callback","$$v","expression","on","$event","pageQuery","handleAddEmp","records","scopedSlots","_u","key","fn","scope","_s","row","status","handleUpdateEmp","handleStartOrStop","page","pageSize","total","handleSizeChange","handleCurrentChange","staticRenderFns","data","created","methods","_this","params","getEmployeeList","then","res","code","catch","err","$message","error","message","_this2","username","$confirm","confirmButtonText","cancelButtonText","type","p","id","enableOrDisableEmployee","success","$router","push","path","query","component"],"mappings":"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","file":"js/chunk-6e5112b9.350e6997.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=3cf9e720&prod&lang=scss&scoped=true\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"dashboard-container\"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"tableBar\"},[_c('label',{staticStyle:{\"margin-right\":\"5px\"}},[_vm._v(\"\\n        Employee Name:\\n      \")]),_c('el-input',{staticStyle:{\"width\":\"20%\"},attrs:{\"placeholder\":\"Please input name\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),_c('el-button',{staticStyle:{\"margin-left\":\"25px\"},attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.pageQuery()}}},[_vm._v(\"Search\")]),_c('el-button',{staticStyle:{\"float\":\"right\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleAddEmp}},[_vm._v(\"+ Add\")])],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.records,\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"Name\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"username\",\"label\":\"User Name\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"phone\",\"label\":\"Phone\"}}),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"Status\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n          \"+_vm._s(scope.row.status === 0 ? 'Enable' : 'Disable')+\"\\n        \")]}}])}),_c('el-table-column',{attrs:{\"prop\":\"updateTime\",\"label\":\"Update Time\"}}),_c('el-table-column',{attrs:{\"label\":\"Operations\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.handleUpdateEmp(scope.row)}}},[_vm._v(\"Edit\")]),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.handleStartOrStop(scope.row)}}},[_vm._v(_vm._s(scope.row.status === 1 ? 'Enable' :\n        'Disable'))])]}}])})],1),_c('el-pagination',{staticClass:\"pageList\",attrs:{\"current-page\":_vm.page,\"page-sizes\":[10, 20, 30, 40, 50],\"page-size\":_vm.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\r\nimport {getEmployeeList,enableOrDisableEmployee} from '@/api/employee'\r\nimport router from '@/router';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      name: '',\r\n      page: 1,\r\n      pageSize: 10,\r\n      total: 0,\r\n      records: []\r\n    }\r\n  },\r\n  created() {\r\n    this.pageQuery()\r\n  },\r\n  methods: {\r\n    pageQuery() {\r\n      //page query\r\n      const params = {name:this.name,page:this.page,pageSize:this.pageSize}\r\n      getEmployeeList(params).then(res => {\r\n        if(res.data.code === 1) {\r\n          this.total = res.data.data.total\r\n          this.records = res.data.data.records\r\n        }\r\n      }).catch(err => {\r\n        this.$message.error('Request Error: ' + err.message)\r\n      })\r\n    },\r\n    //change pageSize\r\n    handleSizeChange(pageSize) {\r\n      this.pageSize = pageSize\r\n      this.pageQuery()\r\n    },\r\n    //change page\r\n    handleCurrentChange(page) {\r\n      this.page = page\r\n      this.pageQuery()\r\n    },\r\n    //enable/disable \r\n    handleStartOrStop(row) {\r\n      if(row.username === 'admin'){\r\n        this.$message.error('Admin status cannot be changed!')\r\n        return\r\n      }\r\n\r\n    //confirm alert\r\n    this.$confirm('Are you confirmed to change the status?', 'Info', {\r\n          confirmButtonText: 'Confirm',\r\n          cancelButtonText: 'Cancel',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          const p = {\r\n            id: row.id,\r\n            status: !row.status ? 1 : 0\r\n          }\r\n          enableOrDisableEmployee(p).then(res => {\r\n            if(res.data.code === 1) {\r\n              this.$message.success('Employee status has been successfully changed!')\r\n              this.pageQuery()\r\n            }\r\n          })\r\n        })\r\n    },\r\n    //change to add page\r\n    handleAddEmp(){\r\n      this.$router.push('/employee/add')\r\n    },\r\n    //change to edit page\r\n    handleUpdateEmp(row) {\r\n      if(row.username === 'admin'){\r\n        this.$message.error('Admin profile cannot be changed!')\r\n        return \r\n      }\r\n      this.$router.push({\r\n        path: '/employee/add',\r\n        query: {id: row.id}\r\n      })\r\n    }\r\n  }\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=3cf9e720&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=3cf9e720&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3cf9e720\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}