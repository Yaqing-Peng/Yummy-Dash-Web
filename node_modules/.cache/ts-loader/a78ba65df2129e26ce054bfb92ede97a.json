{"remainingRequest":"/Users/jasmine/Desktop/projects/vue-proj/yummy-dash-admin-vue-ts/node_modules/babel-loader/lib/index.js!/Users/jasmine/Desktop/projects/vue-proj/yummy-dash-admin-vue-ts/node_modules/ts-loader/index.js??ref--14-2!/Users/jasmine/Desktop/projects/vue-proj/yummy-dash-admin-vue-ts/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jasmine/Desktop/projects/vue-proj/yummy-dash-admin-vue-ts/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jasmine/Desktop/projects/vue-proj/yummy-dash-admin-vue-ts/src/views/setmeal/addSetmeal.vue?vue&type=script&lang=ts","dependencies":[{"path":"/Users/jasmine/Desktop/projects/vue-proj/yummy-dash-admin-vue-ts/src/views/setmeal/addSetmeal.vue","mtime":1712182530551},{"path":"/Users/jasmine/Desktop/projects/vue-proj/yummy-dash-admin-vue-ts/babel.config.js","mtime":1652810118000},{"path":"/Users/jasmine/Desktop/projects/vue-proj/yummy-dash-admin-vue-ts/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jasmine/Desktop/projects/vue-proj/yummy-dash-admin-vue-ts/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/jasmine/Desktop/projects/vue-proj/yummy-dash-admin-vue-ts/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/jasmine/Desktop/projects/vue-proj/yummy-dash-admin-vue-ts/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jasmine/Desktop/projects/vue-proj/yummy-dash-admin-vue-ts/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"/Users/jasmine/Desktop/projects/vue-proj/yummy-dash-admin-vue-ts/node_modules/@babel/runtime/helpers/interopRequireDefault.js\");\nrequire(\"core-js/modules/es7.object.get-own-property-descriptors\");\nrequire(\"core-js/modules/es6.object.keys\");\nrequire(\"core-js/modules/es6.reflect.construct\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es6.function.name\");\nrequire(\"core-js/modules/web.dom.iterable\");\nvar _toConsumableArray2 = _interopRequireDefault(require(\"/Users/jasmine/Desktop/projects/vue-proj/yummy-dash-admin-vue-ts/node_modules/@babel/runtime-corejs2/helpers/toConsumableArray.js\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"/Users/jasmine/Desktop/projects/vue-proj/yummy-dash-admin-vue-ts/node_modules/@babel/runtime-corejs2/helpers/defineProperty.js\"));\nrequire(\"regenerator-runtime/runtime\");\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"/Users/jasmine/Desktop/projects/vue-proj/yummy-dash-admin-vue-ts/node_modules/@babel/runtime-corejs2/helpers/asyncToGenerator.js\"));\nrequire(\"core-js/modules/es6.number.constructor\");\nvar _classCallCheck2 = _interopRequireDefault(require(\"/Users/jasmine/Desktop/projects/vue-proj/yummy-dash-admin-vue-ts/node_modules/@babel/runtime-corejs2/helpers/classCallCheck.js\"));\nvar _createClass2 = _interopRequireDefault(require(\"/Users/jasmine/Desktop/projects/vue-proj/yummy-dash-admin-vue-ts/node_modules/@babel/runtime-corejs2/helpers/createClass.js\"));\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"/Users/jasmine/Desktop/projects/vue-proj/yummy-dash-admin-vue-ts/node_modules/@babel/runtime-corejs2/helpers/possibleConstructorReturn.js\"));\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"/Users/jasmine/Desktop/projects/vue-proj/yummy-dash-admin-vue-ts/node_modules/@babel/runtime-corejs2/helpers/getPrototypeOf.js\"));\nvar _inherits2 = _interopRequireDefault(require(\"/Users/jasmine/Desktop/projects/vue-proj/yummy-dash-admin-vue-ts/node_modules/@babel/runtime-corejs2/helpers/inherits.js\"));\nvar _tslib = require(\"tslib\");\nvar _vuePropertyDecorator = require(\"vue-property-decorator\");\nvar _index = _interopRequireDefault(require(\"@/components/HeadLable/index.vue\"));\nvar _index2 = _interopRequireDefault(require(\"@/components/ImgUpload/index.vue\"));\nvar _AddDish = _interopRequireDefault(require(\"./components/AddDish.vue\"));\nvar _setMeal = require(\"@/api/setMeal\");\nvar _dish = require(\"@/api/dish\");\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2.default)(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _callSuper(t, o, e) { return o = (0, _getPrototypeOf2.default)(o), (0, _possibleConstructorReturn2.default)(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0, _getPrototypeOf2.default)(t).constructor) : o.apply(t, e)); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nvar default_1 = /*#__PURE__*/function (_Vue) {\n  function default_1() {\n    var _this;\n    (0, _classCallCheck2.default)(this, default_1);\n    _this = _callSuper(this, default_1, arguments);\n    _this.value = '';\n    _this.setMealList = [];\n    _this.seachKey = '';\n    _this.dishList = [];\n    _this.imageUrl = '';\n    _this.actionType = '';\n    _this.dishTable = [];\n    _this.dialogVisible = false;\n    _this.checkList = [];\n    _this.ruleForm = {\n      name: '',\n      categoryId: '',\n      price: '',\n      code: '',\n      image: '',\n      description: '',\n      dishList: [],\n      status: true,\n      idType: ''\n    };\n    return _this;\n  }\n  (0, _inherits2.default)(default_1, _Vue);\n  return (0, _createClass2.default)(default_1, [{\n    key: \"rules\",\n    get: function get() {\n      return {\n        name: {\n          required: true,\n          validator: function validator(rule, value, callback) {\n            if (!value) {\n              callback(new Error('Please enter setmeal name'));\n            } else {\n              var reg = /^([A-Za-z0-9\\u4e00-\\u9fa5]){2,20}$/;\n              if (!reg.test(value)) {\n                callback(new Error('Setmeal name entered is not valid, please enter 2-20 characters'));\n              } else {\n                callback();\n              }\n            }\n          },\n          trigger: 'blur'\n        },\n        idType: {\n          required: true,\n          message: 'Please select setmeal category',\n          trigger: 'change'\n        },\n        image: {\n          required: true,\n          message: 'Setmeal image cannot be empty'\n        },\n        price: {\n          required: true,\n          // 'message': 'Please enter package price',\n          validator: function validator(rules, value, callback) {\n            var reg = /^([1-9]\\d{0,5}|0)(\\.\\d{1,2})?$/;\n            if (!reg.test(value) || Number(value) <= 0) {\n              callback(new Error('Setmeal price format is incorrect, please enter an amount greater than zero with up to two decimal places'));\n            } else {\n              callback();\n            }\n          },\n          trigger: 'blur'\n        },\n        code: {\n          required: true,\n          message: 'Please enter product code',\n          trigger: 'blur'\n        }\n      };\n    }\n  }, {\n    key: \"created\",\n    value: function created() {\n      this.getDishTypeList();\n      this.actionType = this.$route.query.id ? 'edit' : 'add';\n      if (this.actionType == 'edit') {\n        this.init();\n      }\n    }\n  }, {\n    key: \"init\",\n    value: function () {\n      var _init = (0, _asyncToGenerator2.default)( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var _this2 = this;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              (0, _setMeal.querySetmealById)(this.$route.query.id).then(function (res) {\n                if (res && res.data && res.data.code === 1) {\n                  _this2.ruleForm = res.data.data;\n                  _this2.ruleForm.status = res.data.data.status == '1';\n                  _this2.ruleForm.price = res.data.data.price;\n                  // this.imageUrl = `http://172.17.2.120:8080/common/download?name=${res.data.data.image}`\n                  _this2.imageUrl = res.data.data.image;\n                  _this2.checkList = res.data.data.setmealDishes;\n                  _this2.dishTable = res.data.data.setmealDishes.reverse();\n                  _this2.ruleForm.idType = res.data.data.categoryId;\n                } else {\n                  _this2.$message.error(res.data.msg);\n                }\n              });\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function init() {\n        return _init.apply(this, arguments);\n      }\n      return init;\n    }()\n  }, {\n    key: \"seachHandle\",\n    value: function seachHandle() {\n      this.seachKey = this.value;\n    }\n    // 获取套餐分类\n  }, {\n    key: \"getDishTypeList\",\n    value: function getDishTypeList() {\n      var _this3 = this;\n      (0, _dish.getCategoryList)({\n        type: 2,\n        page: 1,\n        pageSize: 1000\n      }).then(function (res) {\n        if (res && res.data && res.data.code === 1) {\n          _this3.setMealList = res.data.data.map(function (obj) {\n            return _objectSpread(_objectSpread({}, obj), {}, {\n              idType: obj.id\n            });\n          });\n        } else {\n          _this3.$message.error(res.data.msg);\n        }\n      });\n    }\n    // 通过套餐ID获取菜品列表分类\n    // private getDishList (id:number) {\n    //   getDishListType({id}).then(res => {\n    //     if (res.data.code == 200) {\n    //       const { data } = res.data\n    //       this.dishList = data\n    //     } else {\n    //       this.$message.error(res.data.desc)\n    //     }\n    //   })\n    // }\n    // 删除套餐菜品\n  }, {\n    key: \"delDishHandle\",\n    value: function delDishHandle(index) {\n      this.dishTable.splice(index, 1);\n      this.checkList = this.dishTable;\n      // this.checkList.splice(index, 1)\n    }\n    // 获取添加菜品数据 - 确定加菜倒序展示\n  }, {\n    key: \"getCheckList\",\n    value: function getCheckList(value) {\n      this.checkList = (0, _toConsumableArray2.default)(value).reverse();\n    }\n    // 添加菜品\n  }, {\n    key: \"openAddDish\",\n    value: function openAddDish(st) {\n      this.seachKey = '';\n      this.dialogVisible = true;\n    }\n    // 取消添加菜品\n  }, {\n    key: \"handleClose\",\n    value: function handleClose(done) {\n      // this.$refs.adddish.close()\n      this.dialogVisible = false;\n      this.checkList = JSON.parse(JSON.stringify(this.dishTable));\n      // this.dialogVisible = false\n    }\n    // 保存添加菜品列表\n  }, {\n    key: \"addTableList\",\n    value: function addTableList() {\n      this.dishTable = JSON.parse(JSON.stringify(this.checkList));\n      this.dishTable.forEach(function (n) {\n        n.copies = 1;\n      });\n      this.dialogVisible = false;\n    }\n  }, {\n    key: \"submitForm\",\n    value: function submitForm(formName, st) {\n      var _this4 = this;\n      ;\n      this.$refs[formName].validate(function (valid) {\n        if (valid) {\n          if (_this4.dishTable.length === 0) {\n            return _this4.$message.error('Dishes under the setmeal cannot be empty');\n          }\n          if (!_this4.ruleForm.image) return _this4.$message.error('Setmeal image cannot be empty');\n          var params = _objectSpread({}, _this4.ruleForm);\n          params.setmealDishes = _this4.dishTable.map(function (obj) {\n            return {\n              copies: obj.copies,\n              dishId: obj.dishId,\n              name: obj.name,\n              price: obj.price\n            };\n          });\n          params.status = _this4.actionType === 'add' ? 0 : _this4.ruleForm.status ? 1 : 0;\n          params.categoryId = _this4.ruleForm.idType;\n          // delete params.dishList\n          if (_this4.actionType == 'add') {\n            delete params.id;\n            (0, _setMeal.addSetmeal)(params).then(function (res) {\n              if (res && res.data && res.data.code === 1) {\n                _this4.$message.success('Setmeal added successfully!');\n                if (!st) {\n                  _this4.$router.push({\n                    path: '/setmeal'\n                  });\n                } else {\n                  ;\n                  _this4.$refs.ruleForm.resetFields();\n                  _this4.dishList = [];\n                  _this4.dishTable = [];\n                  _this4.ruleForm = {\n                    name: '',\n                    categoryId: '',\n                    price: '',\n                    code: '',\n                    image: '',\n                    description: '',\n                    dishList: [],\n                    status: true,\n                    id: '',\n                    idType: ''\n                  };\n                  _this4.imageUrl = '';\n                }\n              } else {\n                _this4.$message.error(res.data.msg);\n              }\n            }).catch(function (err) {\n              _this4.$message.error('Request error: ' + err.message);\n            });\n          } else {\n            delete params.updateTime;\n            (0, _setMeal.editSetmeal)(params).then(function (res) {\n              if (res.data.code === 1) {\n                _this4.$message.success('Setmeal modified successfully!');\n                _this4.$router.push({\n                  path: '/setmeal'\n                });\n              } else {\n                // this.$message.error(res.data.desc || res.data.message)\n              }\n            }).catch(function (err) {\n              _this4.$message.error('Request error: ' + err.message);\n            });\n          }\n        } else {\n          // console.log('error submit!!')\n          return false;\n        }\n      });\n    }\n  }, {\n    key: \"imageChange\",\n    value: function imageChange(value) {\n      this.ruleForm.image = value;\n    }\n  }]);\n}(_vuePropertyDecorator.Vue);\ndefault_1 = (0, _tslib.__decorate)([(0, _vuePropertyDecorator.Component)({\n  name: 'addShop',\n  components: {\n    HeadLable: _index.default,\n    AddDish: _AddDish.default,\n    ImageUpload: _index2.default\n  }\n})], default_1);\nvar _default = exports.default = default_1;",{"version":3,"names":["_vuePropertyDecorator","require","_index","_interopRequireDefault","_index2","_AddDish","_setMeal","_dish","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty2","default","getOwnPropertyDescriptors","defineProperties","defineProperty","_callSuper","_getPrototypeOf2","_possibleConstructorReturn2","_isNativeReflectConstruct","Reflect","construct","constructor","Boolean","prototype","valueOf","call","default_1","_Vue","_this","_classCallCheck2","value","setMealList","seachKey","dishList","imageUrl","actionType","dishTable","dialogVisible","checkList","ruleForm","name","categoryId","price","code","image","description","status","idType","_inherits2","_createClass2","key","get","required","validator","rule","callback","Error","reg","test","trigger","message","rules","Number","created","getDishTypeList","$route","query","id","init","_init","_asyncToGenerator2","regeneratorRuntime","mark","_callee","_this2","wrap","_callee$","_context","prev","next","querySetmealById","then","res","data","setmealDishes","reverse","$message","error","msg","stop","seachHandle","_this3","getCategoryList","type","page","pageSize","map","obj","delDishHandle","index","splice","getCheckList","_toConsumableArray2","openAddDish","st","handleClose","done","JSON","parse","stringify","addTableList","n","copies","submitForm","formName","_this4","$refs","validate","valid","params","dishId","addSetmeal","success","$router","path","resetFields","catch","err","updateTime","editSetmeal","imageChange","Vue","__decorate","Component","components","HeadLable","AddDish","ImageUpload","_default","exports"],"sources":["/Users/jasmine/Desktop/projects/vue-proj/yummy-dash-admin-vue-ts/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jasmine/Desktop/projects/vue-proj/yummy-dash-admin-vue-ts/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jasmine/Desktop/projects/vue-proj/yummy-dash-admin-vue-ts/src/views/setmeal/addSetmeal.vue?vue&type=script&lang=ts"],"sourcesContent":["\r\nimport { Component, Vue } from 'vue-property-decorator'\r\nimport HeadLable from '@/components/HeadLable/index.vue'\r\nimport ImageUpload from '@/components/ImgUpload/index.vue'\r\nimport AddDish from './components/AddDish.vue'\r\nimport { querySetmealById, addSetmeal, editSetmeal } from '@/api/setMeal'\r\nimport { getCategoryList } from '@/api/dish'\r\nimport { baseUrl } from '@/config.json'\r\n\r\n@Component({\r\n  name: 'addShop',\r\n  components: {\r\n    HeadLable,\r\n    AddDish,\r\n    ImageUpload\r\n  }\r\n})\r\nexport default class extends Vue {\r\n  private value: string = ''\r\n  private setMealList: [] = []\r\n  private seachKey: string = ''\r\n  private dishList: [] = []\r\n  private imageUrl: string = ''\r\n  private actionType: string = ''\r\n  private dishTable: [] = []\r\n  private dialogVisible: boolean = false\r\n  private checkList: any[] = []\r\n  private ruleForm = {\r\n    name: '',\r\n    categoryId: '',\r\n    price: '',\r\n    code: '',\r\n    image: '',\r\n    description: '',\r\n    dishList: [],\r\n    status: true,\r\n    idType: ''\r\n  }\r\n\r\n  get rules() {\r\n    return {\r\n        name: {\r\n            required: true,\r\n            validator: (rule: any, value: string, callback: Function) => {\r\n                if (!value) {\r\n                    callback(new Error('Please enter setmeal name'))\r\n                } else {\r\n                    const reg = /^([A-Za-z0-9\\u4e00-\\u9fa5]){2,20}$/\r\n                    if (!reg.test(value)) {\r\n                        callback(new Error('Setmeal name entered is not valid, please enter 2-20 characters'))\r\n                    } else {\r\n                        callback()\r\n                    }\r\n                }\r\n            },\r\n            trigger: 'blur'\r\n        },\r\n        idType: {\r\n            required: true,\r\n            message: 'Please select setmeal category',\r\n            trigger: 'change'\r\n        },\r\n        image: {\r\n            required: true,\r\n            message: 'Setmeal image cannot be empty'\r\n        },\r\n        price: {\r\n            required: true,\r\n            // 'message': 'Please enter package price',\r\n            validator: (rules: any, value: string, callback: Function) => {\r\n                const reg = /^([1-9]\\d{0,5}|0)(\\.\\d{1,2})?$/\r\n                if (!reg.test(value) || Number(value) <= 0) {\r\n                    callback(\r\n                        new Error(\r\n                            'Setmeal price format is incorrect, please enter an amount greater than zero with up to two decimal places'\r\n                        )\r\n                    )\r\n                } else {\r\n                    callback()\r\n                }\r\n            },\r\n            trigger: 'blur'\r\n        },\r\n        code: { required: true, message: 'Please enter product code', trigger: 'blur' }\r\n    }\r\n}\r\n\r\n\r\n  created() {\r\n    this.getDishTypeList()\r\n    this.actionType = this.$route.query.id ? 'edit' : 'add'\r\n    if (this.actionType == 'edit') {\r\n      this.init()\r\n    }\r\n  }\r\n\r\n  private async init() {\r\n    querySetmealById(this.$route.query.id).then(res => {\r\n      if (res && res.data && res.data.code === 1) {\r\n        this.ruleForm = res.data.data\r\n        this.ruleForm.status = res.data.data.status == '1'\r\n        ;(this.ruleForm as any).price = res.data.data.price\r\n        // this.imageUrl = `http://172.17.2.120:8080/common/download?name=${res.data.data.image}`\r\n        this.imageUrl = res.data.data.image\r\n        this.checkList = res.data.data.setmealDishes\r\n        this.dishTable = res.data.data.setmealDishes.reverse()\r\n        this.ruleForm.idType = res.data.data.categoryId\r\n      } else {\r\n        this.$message.error(res.data.msg)\r\n      }\r\n    })\r\n  }\r\n  private seachHandle() {\r\n    this.seachKey = this.value\r\n  }\r\n  // 获取套餐分类\r\n  private getDishTypeList() {\r\n    getCategoryList({ type: 2, page: 1, pageSize: 1000 }).then(res => {\r\n      if (res && res.data && res.data.code === 1) {\r\n        this.setMealList = res.data.data.map((obj: any) => ({\r\n          ...obj,\r\n          idType: obj.id\r\n        }))\r\n      } else {\r\n        this.$message.error(res.data.msg)\r\n      }\r\n    })\r\n  }\r\n\r\n  // 通过套餐ID获取菜品列表分类\r\n  // private getDishList (id:number) {\r\n  //   getDishListType({id}).then(res => {\r\n  //     if (res.data.code == 200) {\r\n  //       const { data } = res.data\r\n  //       this.dishList = data\r\n  //     } else {\r\n  //       this.$message.error(res.data.desc)\r\n  //     }\r\n  //   })\r\n  // }\r\n\r\n  // 删除套餐菜品\r\n  delDishHandle(index: any) {\r\n    this.dishTable.splice(index, 1)\r\n    this.checkList = this.dishTable\r\n    // this.checkList.splice(index, 1)\r\n  }\r\n\r\n  // 获取添加菜品数据 - 确定加菜倒序展示\r\n  private getCheckList(value: any) {\r\n    this.checkList = [...value].reverse()\r\n  }\r\n\r\n  // 添加菜品\r\n  openAddDish(st: string) {\r\n    this.seachKey = ''\r\n    this.dialogVisible = true\r\n  }\r\n  // 取消添加菜品\r\n  handleClose(done: any) {\r\n    // this.$refs.adddish.close()\r\n    this.dialogVisible = false\r\n    this.checkList = JSON.parse(JSON.stringify(this.dishTable))\r\n    // this.dialogVisible = false\r\n  }\r\n\r\n  // 保存添加菜品列表\r\n  public addTableList() {\r\n    this.dishTable = JSON.parse(JSON.stringify(this.checkList))\r\n    this.dishTable.forEach((n: any) => {\r\n      n.copies = 1\r\n    })\r\n    this.dialogVisible = false\r\n  }\r\n\r\n  public submitForm(formName: any, st: any) {\r\n    ;(this.$refs[formName] as any).validate((valid: any) => {\r\n        if (valid) {\r\n            if (this.dishTable.length === 0) {\r\n                return this.$message.error('Dishes under the setmeal cannot be empty')\r\n            }\r\n            if (!this.ruleForm.image) return this.$message.error('Setmeal image cannot be empty')\r\n            let params = { ...this.ruleForm } as any\r\n            params.setmealDishes = this.dishTable.map((obj: any) => ({\r\n                copies: obj.copies,\r\n                dishId: obj.dishId,\r\n                name: obj.name,\r\n                price: obj.price\r\n            }))\r\n            ;(params as any).status =\r\n                this.actionType === 'add' ? 0 : this.ruleForm.status ? 1 : 0\r\n            params.categoryId = this.ruleForm.idType\r\n            // delete params.dishList\r\n            if (this.actionType == 'add') {\r\n                delete params.id\r\n                addSetmeal(params)\r\n                    .then(res => {\r\n                        if (res && res.data && res.data.code === 1) {\r\n                            this.$message.success('Setmeal added successfully!')\r\n                            if (!st) {\r\n                                this.$router.push({ path: '/setmeal' })\r\n                            } else {\r\n                                ;(this as any).$refs.ruleForm.resetFields()\r\n                                this.dishList = []\r\n                                this.dishTable = []\r\n                                this.ruleForm = {\r\n                                    name: '',\r\n                                    categoryId: '',\r\n                                    price: '',\r\n                                    code: '',\r\n                                    image: '',\r\n                                    description: '',\r\n                                    dishList: [],\r\n                                    status: true,\r\n                                    id: '',\r\n                                    idType: ''\r\n                                } as any\r\n                                this.imageUrl = ''\r\n                            }\r\n                        } else {\r\n                            this.$message.error(res.data.msg)\r\n                        }\r\n                    })\r\n                    .catch(err => {\r\n                        this.$message.error('Request error: ' + err.message)\r\n                    })\r\n            } else {\r\n                delete params.updateTime\r\n                editSetmeal(params)\r\n                    .then(res => {\r\n                        if (res.data.code === 1) {\r\n                            this.$message.success('Setmeal modified successfully!')\r\n                            this.$router.push({ path: '/setmeal' })\r\n                        } else {\r\n                            // this.$message.error(res.data.desc || res.data.message)\r\n                        }\r\n                    })\r\n                    .catch(err => {\r\n                        this.$message.error('Request error: ' + err.message)\r\n                    })\r\n            }\r\n        } else {\r\n            // console.log('error submit!!')\r\n            return false\r\n        }\r\n    })\r\n}\r\n\r\n\r\n  imageChange(value: any) {\r\n    this.ruleForm.image = value\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]}]}